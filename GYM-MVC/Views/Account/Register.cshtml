@using GYM_MVC.ViewModels.AccountViewModels
@model RegisterMemberViewModel
@{
    ViewData["Title"] = "Register";
    Layout = "_AuthLayout";
}
@section Styles {
    <style>
        .profile-upload {
            width: 150px;
            height: 150px;
        }

        .profile-upload img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid #007bff;
            transition: 0.3s ease-in-out;
        }

        .profile-upload img:hover {
            opacity: 0.7;
        }

        .profile-upload input[type="file"] {
            display: none;
        }

        .upload-overlay {
           
            width: 100%;
            height: 35px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border-radius: 10px;
            text-align: center;
            line-height: 35px;
            font-size: 14px;
            cursor: pointer;
        }
    </style>
}


       <form asp-action="RegisterTheMember" class="register-form" enctype="multipart/form-data">
          <div class="d-flex justify-content-center my-4">
    <div class="profile-upload">
        <label for="imageUpload">
            <img id="profilePreview" src="~/images/main.jpg" alt="Profile Image" />
            <div class="upload-overlay"><i class="fas fa-upload"></i> Upload Photo</div>
        </label>
        <input type="file" id="imageUpload" asp-for="@Model.Image" accept="image/*" onchange="previewImage(event)" />
    </div>
</div>

      

<div class="split-container">

    <!-- Left Side - Personal & Health Info -->
    <div class="split-left">
            <div class="form-header">
                <h1 class="register-title">Create Your Account</h1>
                <p class="register-subtitle">Join our fitness community today</p>
            </div>

            <div class="form-section">
                <h3 class="section-title">Personal Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label asp-for="MemberName" class="form-label">Full Name</label>
                        <input asp-for="MemberName" class="form-control" placeholder="Enter your full name" />
                        <span asp-validation-for="MemberName" class="field-validation-error"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="BirthDate" class="form-label">Birth Date</label>
                        <input asp-for="BirthDate" type="date" class="form-control" />
                        <span asp-validation-for="BirthDate" class="field-validation-error"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="PhoneNumber" class="form-label">Phone Number</label>
                        <input asp-for="PhoneNumber" class="form-control" placeholder="Enter your phone number" />
                        <span asp-validation-for="PhoneNumber" class="field-validation-error"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="MaterialStatus" class="form-label">Marital Status</label>
                        <select asp-for="MaterialStatus" class="form-control">
                            <option value="">Select marital status</option>
                            <option value="Single">Single</option>
                            <option value="Married">Married</option>
                            <option value="Divorced">Divorced</option>
                        </select>
                        <span asp-validation-for="MaterialStatus" class="field-validation-error"></span>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Health Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label asp-for="Weight" class="form-label">Weight (kg)</label>
                        <input asp-for="Weight" class="form-control" placeholder="Enter your weight" />
                        <span asp-validation-for="Weight" class="field-validation-error"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Height" class="form-label">Height (cm)</label>
                        <input asp-for="Height" class="form-control" placeholder="Enter your height" />
                        <span asp-validation-for="Height" class="field-validation-error"></span>
                    </div>

                    <div class="form-group full-width">
                        <label asp-for="Illnesses" class="form-label">Any Illnesses (if applicable)</label>
                        <input asp-for="Illnesses" class="form-control" placeholder="List any illnesses" />
                        <span asp-validation-for="Illnesses" class="field-validation-error"></span>
                    </div>

                    <div class="form-group full-width">
                        <label asp-for="Injuries" class="form-label">Any Injuries (if applicable)</label>
                        <input asp-for="Injuries" class="form-control" placeholder="List any injuries" />
                        <span asp-validation-for="Injuries" class="field-validation-error"></span>
                    </div>
                </div>
            </div>
      
    </div>

    <div class="split-right">
       
            <div class="form-section">
                <h3 class="section-title">Select Your Trainer</h3>
                <div class="trainer-selection">
                    <div class="trainer-grid">
                        @if (Model?.AvailableTrainers != null)
                        {
                            foreach (var trainer in Model.AvailableTrainers)
                            {
                                <label for="trainer-@trainer.Id" class="trainer-radio-wrapper">
                                    <input type="radio"
                                           name="SelectedTrainerId"
                                           value="@trainer.Id"
                                           id="trainer-@trainer.Id"
                                           checked="@(Model.SelectedTrainerId == trainer.Id)" />

                                    <div class="trainer-card @(Model.SelectedTrainerId == trainer.Id ? "selected" : "")">
                                        <img src="@trainer.ImagePath" class="trainer-thumbnail" alt="@trainer.Name" />
                                        <div class="trainer-details">
                                            <h6 class="trainer-name">@trainer.Name</h6>
                                            <p class="trainer-specialty">@trainer.Specialty</p>
                                        </div>
                                    </div>
                                </label>
                            }
                        }
                    </div>
                    <span asp-validation-for="SelectedTrainerId" class="field-validation-error"></span>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Choose Your Membership</h3>
                <div class="membership-selection">
                    <div class="membership-grid">
                        @if (Model.AvailableMemberships != null)
                        {
                            foreach (var membership in Model.AvailableMemberships)
                            {
                                <label for="membership-@membership.Id" class="membership-radio-wrapper">
                                    <input type="radio"
                                           name="SelectedMembershipId"
                                           value="@membership.Id"
                                           id="membership-@membership.Id"
                                           checked="@(Model.SelectedMembershipId == membership.Id)" />

                                    <div class="membership-card @(Model.SelectedMembershipId == membership.Id ? "selected" : "")">
                                        <div class="membership-header">
                                            <h4>@membership.SelectedMembershipType</h4>
                                        </div>
                                        <div class="membership-price">
                                            $@membership.Price
                                        </div>
                                        <div class="membership-features">
                                            @membership.Description
                                        </div>
                                    </div>
                                </label>
                            }
                        }
                    </div>
                    <span asp-validation-for="SelectedMembershipId" class="field-validation-error"></span>
                </div>
            </div>


            <div class="form-section">
                <h3 class="section-title">Account Information</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label asp-for="Name" class="form-label">Username</label>
                        <input asp-for="Name" class="form-control" placeholder="Choose a username" />
                        <span asp-validation-for="Name" class="field-validation-error"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Email" class="form-label">Email</label>
                        <input asp-for="Email" class="form-control" placeholder="Enter your email" />
                        <span asp-validation-for="Email" class="field-validation-error"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Password" class="form-label">Password</label>
                        <input asp-for="Password" type="password" class="form-control" placeholder="Create a password" />
                        <span asp-validation-for="Password" class="field-validation-error"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ConfirmPassword" class="form-label">Confirm Password</label>
                        <input asp-for="ConfirmPassword" type="password" class="form-control" placeholder="Confirm your password" />
                        <span asp-validation-for="ConfirmPassword" class="field-validation-error"></span>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i> Register Now
                </button>
               
                <div class="auth-links">
                    Already have an account? <a asp-action="Login">Sign in</a>
                </div>
            </div>

    </div>
</div>
    </form>
@section Scripts {
    <script>
        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function () {
                document.getElementById('profilePreview').src = reader.result;
            };
            reader.readAsDataURL(event.target.files[0]);
        }
    </script>
}

   